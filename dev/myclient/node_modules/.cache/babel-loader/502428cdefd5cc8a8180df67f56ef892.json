{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LeoLu\\\\Desktop\\\\NYT_Guardian_News_Web\\\\dev\\\\myclient\\\\src\\\\components\\\\FavCard.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ShareModal from './ShareModal';\nimport { withRouter } from 'react-router-dom';\nimport { MdDelete } from 'react-icons/md';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ReactTooltip from 'react-tooltip';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\ntoast.configure();\n\nclass FavCard extends React.Component {\n  constructor(props) {\n    super(props);\n    let data = props.data;\n    this.state = {\n      type: data.type,\n      id: data.id,\n      img: data.defaultImg,\n      section: data.section,\n      title: data.title,\n      abstract: data.abstract,\n      articleURL: data.articleURL,\n      date: data.date,\n      num: data.num,\n      isRemoved: false\n    };\n    this.showDetail = this.showDetail.bind(this);\n    this.deleteFav = this.deleteFav.bind(this);\n  }\n\n  deleteFav() {\n    let removedContext = \"Removing \" + this.state.title;\n    toast(removedContext, {\n      position: \"top-center\",\n      hideProgressBar: true,\n      closeOnClick: false,\n      pauseOnHover: false,\n      draggable: true,\n      autoClose: 5000\n    });\n\n    if (window.localStorage.getItem('list')) {\n      let list = JSON.parse(window.localStorage.getItem('list'));\n      let i = 0;\n\n      for (let item of list) {\n        if (item.articleURL === this.state.articleURL) {\n          list.splice(i, 1);\n          window.localStorage.setItem('list', JSON.stringify(list));\n          this.setState({\n            isRemoved: true\n          }, () => {\n            if (list.length === 0) {\n              window.location.reload();\n            }\n          });\n          break;\n        }\n\n        i += 1;\n      }\n    }\n  }\n\n  showDetail(event) {\n    console.log(event.nativeEvent.target.localName);\n    if (event.nativeEvent.target.localName === \"path\" || event.nativeEvent.target.localName === \"svg\" || event.nativeEvent.target.localName === \"span\" || event.nativeEvent.target.localName === \"circle\" || event.nativeEvent.target.localName === \"button\") return;else {\n      if (this.state.type === \"NYTimes\") {\n        this.props.history.push('/article?id=' + this.state.articleURL + \"&source=NYTimes\");\n      } else {\n        this.props.history.push('/article?id=' + this.state.id + \"&source=Guardian\");\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.isRemoved ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fav-news-card\",\n      onClick: this.showDetail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"fav-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, this.state.title, /*#__PURE__*/React.createElement(ShareModal, {\n      url: this.state.articleURL,\n      title: this.state.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(MdDelete, {\n      onClick: this.deleteFav,\n      \"data-tip\": \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ReactTooltip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fav-img-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"fav-img\",\n      src: this.state.img,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fav-date-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 3,\n      xs: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fav-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, this.state.date)), /*#__PURE__*/React.createElement(Col, {\n      sm: 9,\n      xs: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fav-type\",\n      id: this.state.type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, this.state.type.toUpperCase()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fav-section\",\n      id: this.state.section,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, this.state.section.toUpperCase()))))));\n  }\n\n}\n\n;\nFavCard.propTypes = {\n  data: PropTypes.object\n};\nexport default withRouter(FavCard);","map":{"version":3,"sources":["C:/Users/LeoLu/Desktop/NYT_Guardian_News_Web/dev/myclient/src/components/FavCard.js"],"names":["React","PropTypes","ShareModal","withRouter","MdDelete","toast","ReactTooltip","Row","Col","configure","FavCard","Component","constructor","props","data","state","type","id","img","defaultImg","section","title","abstract","articleURL","date","num","isRemoved","showDetail","bind","deleteFav","removedContext","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","autoClose","window","localStorage","getItem","list","JSON","parse","i","item","splice","setItem","stringify","setState","length","location","reload","event","console","log","nativeEvent","target","localName","history","push","render","toUpperCase","propTypes","object"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ShareModal from './ShareModal';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {MdDelete} from 'react-icons/md';\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\ntoast.configure()\r\n\r\nclass FavCard extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    let data = props.data;\r\n    this.state = {\r\n      type: data.type,\r\n      id: data.id,\r\n      img: data.defaultImg,\r\n      section: data.section,\r\n      title: data.title,\r\n      abstract: data.abstract,\r\n      articleURL: data.articleURL,\r\n      date: data.date,\r\n      num: data.num,\r\n      isRemoved: false,\r\n    };\r\n    this.showDetail = this.showDetail.bind(this);\r\n    this.deleteFav = this.deleteFav.bind(this);\r\n  }\r\n\r\n  deleteFav(){\r\n    let removedContext = \"Removing \" + this.state.title;\r\n    toast(removedContext, {\r\n      position: \"top-center\",\r\n      hideProgressBar: true,\r\n      closeOnClick: false,\r\n      pauseOnHover: false,\r\n      draggable: true,\r\n      autoClose: 5000,\r\n    });\r\n    if(window.localStorage.getItem('list')){\r\n      let list = JSON.parse(window.localStorage.getItem('list'));\r\n      let i=0;\r\n      for(let item of list){\r\n        if(item.articleURL === this.state.articleURL){\r\n          list.splice(i, 1);\r\n          window.localStorage.setItem('list', JSON.stringify(list));\r\n          this.setState({isRemoved: true}, ()=>{\r\n            if(list.length === 0){\r\n              window.location.reload();\r\n            }\r\n          });\r\n          break;\r\n        }\r\n        i+=1;\r\n      }\r\n    }\r\n  }\r\n\r\n  showDetail(event){\r\n    console.log(event.nativeEvent.target.localName);\r\n    if(event.nativeEvent.target.localName === \"path\" || event.nativeEvent.target.localName ===\"svg\" || event.nativeEvent.target.localName ===\"span\" || event.nativeEvent.target.localName ===\"circle\" || event.nativeEvent.target.localName ===\"button\")\r\n      return;\r\n    else{\r\n      if(this.state.type === \"NYTimes\"){\r\n        this.props.history.push('/article?id=' + this.state.articleURL + \"&source=NYTimes\");\r\n      }\r\n      else{\r\n        this.props.history.push('/article?id=' + this.state.id + \"&source=Guardian\");\r\n      }\r\n    }\r\n  }\r\n\r\n  render(){\r\n\r\n    \r\n    \r\n    \r\n    return(\r\n      <>\r\n        {this.state.isRemoved ? <></> :\r\n        <div className='fav-news-card' onClick={this.showDetail}>\r\n          <h6 className='fav-title'>\r\n            <b>\r\n              {this.state.title}\r\n              <ShareModal url={this.state.articleURL} title={this.state.title}/>\r\n              <MdDelete onClick={this.deleteFav} data-tip=\"delete\"/>\r\n              <ReactTooltip/>\r\n            </b>\r\n          </h6>\r\n          <div className = 'fav-img-container'>\r\n            <img className = 'fav-img' src={this.state.img}></img>\r\n          </div>\r\n          \r\n            <div className=\"fav-date-section\">\r\n            <Row xs={1}>\r\n              <Col sm={3} xs={3}> \r\n                <div className=\"fav-date\"> \r\n                  {this.state.date}\r\n                </div>\r\n              </Col>\r\n              <Col sm={9} xs={9}>\r\n                \r\n                <div className='fav-type' id={this.state.type}>\r\n                  {this.state.type.toUpperCase()}\r\n                </div>\r\n                <div className='fav-section' id={this.state.section}>\r\n                  {this.state.section.toUpperCase()}\r\n                </div>\r\n              </Col>\r\n                \r\n                \r\n              \r\n            </Row>\r\n              \r\n              \r\n              \r\n           </div>\r\n        </div>\r\n        }\r\n      </>\r\n        \r\n    )\r\n  }\r\n\r\n};\r\n\r\nFavCard.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(FavCard);"]},"metadata":{},"sourceType":"module"}