{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMenuPlacement = getMenuPlacement;\nexports.MenuPortal = exports.menuPortalCSS = exports.LoadingMessage = exports.NoOptionsMessage = exports.loadingMessageCSS = exports.noOptionsMessageCSS = exports.MenuList = exports.menuListCSS = exports.default = exports.MenuPlacer = exports.menuCSS = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _emotion = require(\"emotion\");\n\nvar _reactDom = require(\"react-dom\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction getMenuPlacement(_ref) {\n  var maxHeight = _ref.maxHeight,\n      menuEl = _ref.menuEl,\n      minHeight = _ref.minHeight,\n      placement = _ref.placement,\n      shouldScroll = _ref.shouldScroll,\n      isFixedPosition = _ref.isFixedPosition,\n      theme = _ref.theme;\n  var spacing = theme.spacing;\n  var scrollParent = (0, _utils.getScrollParent)(menuEl);\n  var defaultState = {\n    placement: 'bottom',\n    maxHeight: maxHeight\n  }; // something went wrong, return default state\n\n  if (!menuEl || !menuEl.offsetParent) return defaultState; // we can't trust `scrollParent.scrollHeight` --> it may increase when\n  // the menu is rendered\n\n  var _scrollParent$getBoun = scrollParent.getBoundingClientRect(),\n      scrollHeight = _scrollParent$getBoun.height;\n\n  var _menuEl$getBoundingCl = menuEl.getBoundingClientRect(),\n      menuBottom = _menuEl$getBoundingCl.bottom,\n      menuHeight = _menuEl$getBoundingCl.height,\n      menuTop = _menuEl$getBoundingCl.top;\n\n  var _menuEl$offsetParent$ = menuEl.offsetParent.getBoundingClientRect(),\n      containerTop = _menuEl$offsetParent$.top;\n\n  var viewHeight = window.innerHeight;\n  var scrollTop = (0, _utils.getScrollTop)(scrollParent);\n  var marginBottom = parseInt(getComputedStyle(menuEl).marginBottom, 10);\n  var marginTop = parseInt(getComputedStyle(menuEl).marginTop, 10);\n  var viewSpaceAbove = containerTop - marginTop;\n  var viewSpaceBelow = viewHeight - menuTop;\n  var scrollSpaceAbove = viewSpaceAbove + scrollTop;\n  var scrollSpaceBelow = scrollHeight - scrollTop - menuTop;\n  var scrollDown = menuBottom - viewHeight + scrollTop + marginBottom;\n  var scrollUp = scrollTop + menuTop - marginTop;\n  var scrollDuration = 160;\n\n  switch (placement) {\n    case 'auto':\n    case 'bottom':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceBelow >= menuHeight) {\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      } // 2: the menu will fit, if scrolled\n\n\n      if (scrollSpaceBelow >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        }\n\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      } // 3: the menu will fit, if constrained\n\n\n      if (!isFixedPosition && scrollSpaceBelow >= minHeight || isFixedPosition && viewSpaceBelow >= minHeight) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        } // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n\n\n        var constrainedHeight = isFixedPosition ? viewSpaceBelow - marginBottom : scrollSpaceBelow - marginBottom;\n        return {\n          placement: 'bottom',\n          maxHeight: constrainedHeight\n        };\n      } // 4. Forked beviour when there isn't enough space below\n      // AUTO: flip the menu, render above\n\n\n      if (placement === 'auto' || isFixedPosition) {\n        // may need to be constrained after flipping\n        var _constrainedHeight = maxHeight;\n        var spaceAbove = isFixedPosition ? viewSpaceAbove : scrollSpaceAbove;\n\n        if (spaceAbove >= minHeight) {\n          _constrainedHeight = Math.min(spaceAbove - marginBottom - spacing.controlHeight, maxHeight);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight\n        };\n      } // BOTTOM: allow browser to increase scrollable area and immediately set scroll\n\n\n      if (placement === 'bottom') {\n        (0, _utils.scrollTo)(scrollParent, scrollDown);\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      }\n\n      break;\n\n    case 'top':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceAbove >= menuHeight) {\n        return {\n          placement: 'top',\n          maxHeight: maxHeight\n        };\n      } // 2: the menu will fit, if scrolled\n\n\n      if (scrollSpaceAbove >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: maxHeight\n        };\n      } // 3: the menu will fit, if constrained\n\n\n      if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n        var _constrainedHeight2 = maxHeight; // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n\n        if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n          _constrainedHeight2 = isFixedPosition ? viewSpaceAbove - marginTop : scrollSpaceAbove - marginTop;\n        }\n\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight2\n        };\n      } // 4. not enough space, the browser WILL NOT increase scrollable area when\n      // absolutely positioned element rendered above the viewport (only below).\n      // Flip the menu, render below\n\n\n      return {\n        placement: 'bottom',\n        maxHeight: maxHeight\n      };\n\n    default:\n      throw new Error(\"Invalid placement provided \\\"\".concat(placement, \"\\\".\"));\n  } // fulfil contract with flow: implicit return value of undefined\n\n\n  return defaultState;\n} // Menu Component\n// ------------------------------\n\n\nfunction alignToControl(placement) {\n  var placementToCSSProp = {\n    bottom: 'top',\n    top: 'bottom'\n  };\n  return placement ? placementToCSSProp[placement] : 'bottom';\n}\n\nvar coercePlacement = function coercePlacement(p) {\n  return p === 'auto' ? 'bottom' : p;\n};\n\nvar menuCSS = function menuCSS(_ref2) {\n  var _ref3;\n\n  var placement = _ref2.placement,\n      _ref2$theme = _ref2.theme,\n      borderRadius = _ref2$theme.borderRadius,\n      spacing = _ref2$theme.spacing,\n      colors = _ref2$theme.colors;\n  return _ref3 = {\n    label: 'menu'\n  }, _defineProperty(_ref3, alignToControl(placement), '100%'), _defineProperty(_ref3, \"backgroundColor\", colors.neutral0), _defineProperty(_ref3, \"borderRadius\", borderRadius), _defineProperty(_ref3, \"boxShadow\", '0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)'), _defineProperty(_ref3, \"marginBottom\", spacing.menuGutter), _defineProperty(_ref3, \"marginTop\", spacing.menuGutter), _defineProperty(_ref3, \"position\", 'absolute'), _defineProperty(_ref3, \"width\", '100%'), _defineProperty(_ref3, \"zIndex\", 1), _ref3;\n}; // NOTE: internal only\n\n\nexports.menuCSS = menuCSS;\n\nvar MenuPlacer = /*#__PURE__*/function (_Component) {\n  _inherits(MenuPlacer, _Component);\n\n  function MenuPlacer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MenuPlacer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MenuPlacer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      maxHeight: _this.props.maxMenuHeight,\n      placement: null\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getPlacement\", function (ref) {\n      var _this$props = _this.props,\n          minMenuHeight = _this$props.minMenuHeight,\n          maxMenuHeight = _this$props.maxMenuHeight,\n          menuPlacement = _this$props.menuPlacement,\n          menuPosition = _this$props.menuPosition,\n          menuShouldScrollIntoView = _this$props.menuShouldScrollIntoView,\n          theme = _this$props.theme;\n      var getPortalPlacement = _this.context.getPortalPlacement;\n      if (!ref) return; // DO NOT scroll if position is fixed\n\n      var isFixedPosition = menuPosition === 'fixed';\n      var shouldScroll = menuShouldScrollIntoView && !isFixedPosition;\n      var state = getMenuPlacement({\n        maxHeight: maxMenuHeight,\n        menuEl: ref,\n        minHeight: minMenuHeight,\n        placement: menuPlacement,\n        shouldScroll: shouldScroll,\n        isFixedPosition: isFixedPosition,\n        theme: theme\n      });\n      if (getPortalPlacement) getPortalPlacement(state);\n\n      _this.setState(state);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getUpdatedProps\", function () {\n      var menuPlacement = _this.props.menuPlacement;\n      var placement = _this.state.placement || coercePlacement(menuPlacement);\n      return _objectSpread({}, _this.props, {\n        placement: placement,\n        maxHeight: _this.state.maxHeight\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(MenuPlacer, [{\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return children({\n        ref: this.getPlacement,\n        placerProps: this.getUpdatedProps()\n      });\n    }\n  }]);\n\n  return MenuPlacer;\n}(_react.Component);\n\nexports.MenuPlacer = MenuPlacer;\n\n_defineProperty(MenuPlacer, \"contextTypes\", {\n  getPortalPlacement: _propTypes.default.func\n});\n\nvar Menu = function Menu(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerRef = props.innerRef,\n      innerProps = props.innerProps;\n  var cn = cx( /*#__PURE__*/(0, _emotion.css)(getStyles('menu', props)), {\n    menu: true\n  }, className);\n  return _react.default.createElement(\"div\", _extends({\n    className: cn\n  }, innerProps, {\n    ref: innerRef\n  }), children);\n};\n\nvar _default = Menu; // ==============================\n// Menu List\n// ==============================\n\nexports.default = _default;\n\nvar menuListCSS = function menuListCSS(_ref4) {\n  var maxHeight = _ref4.maxHeight,\n      baseUnit = _ref4.theme.spacing.baseUnit;\n  return {\n    maxHeight: maxHeight,\n    overflowY: 'auto',\n    paddingBottom: baseUnit,\n    paddingTop: baseUnit,\n    position: 'relative',\n    // required for offset[Height, Top] > keyboard scroll\n    WebkitOverflowScrolling: 'touch'\n  };\n};\n\nexports.menuListCSS = menuListCSS;\n\nvar MenuList = function MenuList(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      isMulti = props.isMulti,\n      innerRef = props.innerRef;\n  return _react.default.createElement(\"div\", {\n    className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('menuList', props)), {\n      'menu-list': true,\n      'menu-list--is-multi': isMulti\n    }, className),\n    ref: innerRef\n  }, children);\n}; // ==============================\n// Menu Notices\n// ==============================\n\n\nexports.MenuList = MenuList;\n\nvar noticeCSS = function noticeCSS(_ref5) {\n  var _ref5$theme = _ref5.theme,\n      baseUnit = _ref5$theme.spacing.baseUnit,\n      colors = _ref5$theme.colors;\n  return {\n    color: colors.neutral40,\n    padding: \"\".concat(baseUnit * 2, \"px \").concat(baseUnit * 3, \"px\"),\n    textAlign: 'center'\n  };\n};\n\nvar noOptionsMessageCSS = noticeCSS;\nexports.noOptionsMessageCSS = noOptionsMessageCSS;\nvar loadingMessageCSS = noticeCSS;\nexports.loadingMessageCSS = loadingMessageCSS;\n\nvar NoOptionsMessage = function NoOptionsMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n  return _react.default.createElement(\"div\", _extends({\n    className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('noOptionsMessage', props)), {\n      'menu-notice': true,\n      'menu-notice--no-options': true\n    }, className)\n  }, innerProps), children);\n};\n\nexports.NoOptionsMessage = NoOptionsMessage;\nNoOptionsMessage.defaultProps = {\n  children: 'No options'\n};\n\nvar LoadingMessage = function LoadingMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n  return _react.default.createElement(\"div\", _extends({\n    className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('loadingMessage', props)), {\n      'menu-notice': true,\n      'menu-notice--loading': true\n    }, className)\n  }, innerProps), children);\n};\n\nexports.LoadingMessage = LoadingMessage;\nLoadingMessage.defaultProps = {\n  children: 'Loading...'\n}; // ==============================\n// Menu Portal\n// ==============================\n\nvar menuPortalCSS = function menuPortalCSS(_ref6) {\n  var rect = _ref6.rect,\n      offset = _ref6.offset,\n      position = _ref6.position;\n  return {\n    left: rect.left,\n    position: position,\n    top: offset,\n    width: rect.width,\n    zIndex: 1\n  };\n};\n\nexports.menuPortalCSS = menuPortalCSS;\n\nvar MenuPortal = /*#__PURE__*/function (_Component2) {\n  _inherits(MenuPortal, _Component2);\n\n  function MenuPortal() {\n    var _getPrototypeOf3;\n\n    var _this2;\n\n    _classCallCheck(this, MenuPortal);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(MenuPortal)).call.apply(_getPrototypeOf3, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this2)), \"state\", {\n      placement: null\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this2)), \"getPortalPlacement\", function (_ref7) {\n      var placement = _ref7.placement;\n      var initialPlacement = coercePlacement(_this2.props.menuPlacement); // avoid re-renders if the placement has not changed\n\n      if (placement !== initialPlacement) {\n        _this2.setState({\n          placement: placement\n        });\n      }\n    });\n\n    return _this2;\n  }\n\n  _createClass(MenuPortal, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        getPortalPlacement: this.getPortalPlacement\n      };\n    } // callback for occassions where the menu must \"flip\"\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          appendTo = _this$props2.appendTo,\n          children = _this$props2.children,\n          controlElement = _this$props2.controlElement,\n          menuPlacement = _this$props2.menuPlacement,\n          position = _this$props2.menuPosition,\n          getStyles = _this$props2.getStyles;\n      var isFixed = position === 'fixed'; // bail early if required elements aren't present\n\n      if (!appendTo && !isFixed || !controlElement) {\n        return null;\n      }\n\n      var placement = this.state.placement || coercePlacement(menuPlacement);\n      var rect = (0, _utils.getBoundingClientObj)(controlElement);\n      var scrollDistance = isFixed ? 0 : window.pageYOffset;\n      var offset = rect[placement] + scrollDistance;\n      var state = {\n        offset: offset,\n        position: position,\n        rect: rect\n      }; // same wrapper element whether fixed or portalled\n\n      var menuWrapper = _react.default.createElement(\"div\", {\n        className:\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        (0, _emotion.css)(getStyles('menuPortal', state))\n      }, children);\n\n      return appendTo ? (0, _reactDom.createPortal)(menuWrapper, appendTo) : menuWrapper;\n    }\n  }]);\n\n  return MenuPortal;\n}(_react.Component);\n\nexports.MenuPortal = MenuPortal;\n\n_defineProperty(MenuPortal, \"childContextTypes\", {\n  getPortalPlacement: _propTypes.default.func\n});","map":{"version":3,"sources":["C:/Users/LeoLu/Desktop/NYT_Guardian_News_Web/dev/myclient/node_modules/react-select/lib/components/Menu.js"],"names":["Object","defineProperty","exports","value","getMenuPlacement","MenuPortal","menuPortalCSS","LoadingMessage","NoOptionsMessage","loadingMessageCSS","noOptionsMessageCSS","MenuList","menuListCSS","default","MenuPlacer","menuCSS","_react","_interopRequireWildcard","require","_emotion","_reactDom","_propTypes","_interopRequireDefault","_utils","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_typeof","Symbol","iterator","constructor","_extends","assign","target","i","arguments","length","source","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","enumerable","forEach","_defineProperty","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","ReferenceError","_ref","maxHeight","menuEl","minHeight","placement","shouldScroll","isFixedPosition","theme","spacing","scrollParent","getScrollParent","defaultState","offsetParent","_scrollParent$getBoun","getBoundingClientRect","scrollHeight","height","_menuEl$getBoundingCl","menuBottom","bottom","menuHeight","menuTop","top","_menuEl$offsetParent$","containerTop","viewHeight","window","innerHeight","scrollTop","getScrollTop","marginBottom","parseInt","getComputedStyle","marginTop","viewSpaceAbove","viewSpaceBelow","scrollSpaceAbove","scrollSpaceBelow","scrollDown","scrollUp","scrollDuration","animatedScrollTo","constrainedHeight","_constrainedHeight","spaceAbove","Math","min","controlHeight","scrollTo","_constrainedHeight2","Error","alignToControl","placementToCSSProp","coercePlacement","_ref2","_ref3","_ref2$theme","borderRadius","colors","label","neutral0","menuGutter","_Component","_getPrototypeOf2","_this","_len","args","Array","_key","maxMenuHeight","ref","_this$props","minMenuHeight","menuPlacement","menuPosition","menuShouldScrollIntoView","getPortalPlacement","context","state","setState","render","children","getPlacement","placerProps","getUpdatedProps","Component","func","Menu","className","cx","getStyles","innerRef","innerProps","cn","css","menu","createElement","_default","_ref4","baseUnit","overflowY","paddingBottom","paddingTop","position","WebkitOverflowScrolling","isMulti","noticeCSS","_ref5","_ref5$theme","color","neutral40","padding","textAlign","defaultProps","_ref6","rect","offset","left","width","zIndex","_Component2","_getPrototypeOf3","_this2","_len2","_key2","_ref7","initialPlacement","getChildContext","_this$props2","appendTo","controlElement","isFixed","getBoundingClientObj","scrollDistance","pageYOffset","menuWrapper","createPortal"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMenuPlacement = getMenuPlacement;\nexports.MenuPortal = exports.menuPortalCSS = exports.LoadingMessage = exports.NoOptionsMessage = exports.loadingMessageCSS = exports.noOptionsMessageCSS = exports.MenuList = exports.menuListCSS = exports.default = exports.MenuPlacer = exports.menuCSS = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _emotion = require(\"emotion\");\n\nvar _reactDom = require(\"react-dom\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction getMenuPlacement(_ref) {\n  var maxHeight = _ref.maxHeight,\n      menuEl = _ref.menuEl,\n      minHeight = _ref.minHeight,\n      placement = _ref.placement,\n      shouldScroll = _ref.shouldScroll,\n      isFixedPosition = _ref.isFixedPosition,\n      theme = _ref.theme;\n  var spacing = theme.spacing;\n  var scrollParent = (0, _utils.getScrollParent)(menuEl);\n  var defaultState = {\n    placement: 'bottom',\n    maxHeight: maxHeight\n  }; // something went wrong, return default state\n\n  if (!menuEl || !menuEl.offsetParent) return defaultState; // we can't trust `scrollParent.scrollHeight` --> it may increase when\n  // the menu is rendered\n\n  var _scrollParent$getBoun = scrollParent.getBoundingClientRect(),\n      scrollHeight = _scrollParent$getBoun.height;\n\n  var _menuEl$getBoundingCl = menuEl.getBoundingClientRect(),\n      menuBottom = _menuEl$getBoundingCl.bottom,\n      menuHeight = _menuEl$getBoundingCl.height,\n      menuTop = _menuEl$getBoundingCl.top;\n\n  var _menuEl$offsetParent$ = menuEl.offsetParent.getBoundingClientRect(),\n      containerTop = _menuEl$offsetParent$.top;\n\n  var viewHeight = window.innerHeight;\n  var scrollTop = (0, _utils.getScrollTop)(scrollParent);\n  var marginBottom = parseInt(getComputedStyle(menuEl).marginBottom, 10);\n  var marginTop = parseInt(getComputedStyle(menuEl).marginTop, 10);\n  var viewSpaceAbove = containerTop - marginTop;\n  var viewSpaceBelow = viewHeight - menuTop;\n  var scrollSpaceAbove = viewSpaceAbove + scrollTop;\n  var scrollSpaceBelow = scrollHeight - scrollTop - menuTop;\n  var scrollDown = menuBottom - viewHeight + scrollTop + marginBottom;\n  var scrollUp = scrollTop + menuTop - marginTop;\n  var scrollDuration = 160;\n\n  switch (placement) {\n    case 'auto':\n    case 'bottom':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceBelow >= menuHeight) {\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      } // 2: the menu will fit, if scrolled\n\n\n      if (scrollSpaceBelow >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        }\n\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      } // 3: the menu will fit, if constrained\n\n\n      if (!isFixedPosition && scrollSpaceBelow >= minHeight || isFixedPosition && viewSpaceBelow >= minHeight) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        } // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n\n\n        var constrainedHeight = isFixedPosition ? viewSpaceBelow - marginBottom : scrollSpaceBelow - marginBottom;\n        return {\n          placement: 'bottom',\n          maxHeight: constrainedHeight\n        };\n      } // 4. Forked beviour when there isn't enough space below\n      // AUTO: flip the menu, render above\n\n\n      if (placement === 'auto' || isFixedPosition) {\n        // may need to be constrained after flipping\n        var _constrainedHeight = maxHeight;\n        var spaceAbove = isFixedPosition ? viewSpaceAbove : scrollSpaceAbove;\n\n        if (spaceAbove >= minHeight) {\n          _constrainedHeight = Math.min(spaceAbove - marginBottom - spacing.controlHeight, maxHeight);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight\n        };\n      } // BOTTOM: allow browser to increase scrollable area and immediately set scroll\n\n\n      if (placement === 'bottom') {\n        (0, _utils.scrollTo)(scrollParent, scrollDown);\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      }\n\n      break;\n\n    case 'top':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceAbove >= menuHeight) {\n        return {\n          placement: 'top',\n          maxHeight: maxHeight\n        };\n      } // 2: the menu will fit, if scrolled\n\n\n      if (scrollSpaceAbove >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: maxHeight\n        };\n      } // 3: the menu will fit, if constrained\n\n\n      if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n        var _constrainedHeight2 = maxHeight; // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n\n        if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n          _constrainedHeight2 = isFixedPosition ? viewSpaceAbove - marginTop : scrollSpaceAbove - marginTop;\n        }\n\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight2\n        };\n      } // 4. not enough space, the browser WILL NOT increase scrollable area when\n      // absolutely positioned element rendered above the viewport (only below).\n      // Flip the menu, render below\n\n\n      return {\n        placement: 'bottom',\n        maxHeight: maxHeight\n      };\n\n    default:\n      throw new Error(\"Invalid placement provided \\\"\".concat(placement, \"\\\".\"));\n  } // fulfil contract with flow: implicit return value of undefined\n\n\n  return defaultState;\n} // Menu Component\n// ------------------------------\n\n\nfunction alignToControl(placement) {\n  var placementToCSSProp = {\n    bottom: 'top',\n    top: 'bottom'\n  };\n  return placement ? placementToCSSProp[placement] : 'bottom';\n}\n\nvar coercePlacement = function coercePlacement(p) {\n  return p === 'auto' ? 'bottom' : p;\n};\n\nvar menuCSS = function menuCSS(_ref2) {\n  var _ref3;\n\n  var placement = _ref2.placement,\n      _ref2$theme = _ref2.theme,\n      borderRadius = _ref2$theme.borderRadius,\n      spacing = _ref2$theme.spacing,\n      colors = _ref2$theme.colors;\n  return _ref3 = {\n    label: 'menu'\n  }, _defineProperty(_ref3, alignToControl(placement), '100%'), _defineProperty(_ref3, \"backgroundColor\", colors.neutral0), _defineProperty(_ref3, \"borderRadius\", borderRadius), _defineProperty(_ref3, \"boxShadow\", '0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)'), _defineProperty(_ref3, \"marginBottom\", spacing.menuGutter), _defineProperty(_ref3, \"marginTop\", spacing.menuGutter), _defineProperty(_ref3, \"position\", 'absolute'), _defineProperty(_ref3, \"width\", '100%'), _defineProperty(_ref3, \"zIndex\", 1), _ref3;\n}; // NOTE: internal only\n\n\nexports.menuCSS = menuCSS;\n\nvar MenuPlacer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MenuPlacer, _Component);\n\n  function MenuPlacer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MenuPlacer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MenuPlacer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      maxHeight: _this.props.maxMenuHeight,\n      placement: null\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getPlacement\", function (ref) {\n      var _this$props = _this.props,\n          minMenuHeight = _this$props.minMenuHeight,\n          maxMenuHeight = _this$props.maxMenuHeight,\n          menuPlacement = _this$props.menuPlacement,\n          menuPosition = _this$props.menuPosition,\n          menuShouldScrollIntoView = _this$props.menuShouldScrollIntoView,\n          theme = _this$props.theme;\n      var getPortalPlacement = _this.context.getPortalPlacement;\n      if (!ref) return; // DO NOT scroll if position is fixed\n\n      var isFixedPosition = menuPosition === 'fixed';\n      var shouldScroll = menuShouldScrollIntoView && !isFixedPosition;\n      var state = getMenuPlacement({\n        maxHeight: maxMenuHeight,\n        menuEl: ref,\n        minHeight: minMenuHeight,\n        placement: menuPlacement,\n        shouldScroll: shouldScroll,\n        isFixedPosition: isFixedPosition,\n        theme: theme\n      });\n      if (getPortalPlacement) getPortalPlacement(state);\n\n      _this.setState(state);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getUpdatedProps\", function () {\n      var menuPlacement = _this.props.menuPlacement;\n      var placement = _this.state.placement || coercePlacement(menuPlacement);\n      return _objectSpread({}, _this.props, {\n        placement: placement,\n        maxHeight: _this.state.maxHeight\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(MenuPlacer, [{\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      return children({\n        ref: this.getPlacement,\n        placerProps: this.getUpdatedProps()\n      });\n    }\n  }]);\n\n  return MenuPlacer;\n}(_react.Component);\n\nexports.MenuPlacer = MenuPlacer;\n\n_defineProperty(MenuPlacer, \"contextTypes\", {\n  getPortalPlacement: _propTypes.default.func\n});\n\nvar Menu = function Menu(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerRef = props.innerRef,\n      innerProps = props.innerProps;\n  var cn = cx(\n  /*#__PURE__*/\n  (0, _emotion.css)(getStyles('menu', props)), {\n    menu: true\n  }, className);\n  return _react.default.createElement(\"div\", _extends({\n    className: cn\n  }, innerProps, {\n    ref: innerRef\n  }), children);\n};\n\nvar _default = Menu; // ==============================\n// Menu List\n// ==============================\n\nexports.default = _default;\n\nvar menuListCSS = function menuListCSS(_ref4) {\n  var maxHeight = _ref4.maxHeight,\n      baseUnit = _ref4.theme.spacing.baseUnit;\n  return {\n    maxHeight: maxHeight,\n    overflowY: 'auto',\n    paddingBottom: baseUnit,\n    paddingTop: baseUnit,\n    position: 'relative',\n    // required for offset[Height, Top] > keyboard scroll\n    WebkitOverflowScrolling: 'touch'\n  };\n};\n\nexports.menuListCSS = menuListCSS;\n\nvar MenuList = function MenuList(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      isMulti = props.isMulti,\n      innerRef = props.innerRef;\n  return _react.default.createElement(\"div\", {\n    className: cx(\n    /*#__PURE__*/\n    (0, _emotion.css)(getStyles('menuList', props)), {\n      'menu-list': true,\n      'menu-list--is-multi': isMulti\n    }, className),\n    ref: innerRef\n  }, children);\n}; // ==============================\n// Menu Notices\n// ==============================\n\n\nexports.MenuList = MenuList;\n\nvar noticeCSS = function noticeCSS(_ref5) {\n  var _ref5$theme = _ref5.theme,\n      baseUnit = _ref5$theme.spacing.baseUnit,\n      colors = _ref5$theme.colors;\n  return {\n    color: colors.neutral40,\n    padding: \"\".concat(baseUnit * 2, \"px \").concat(baseUnit * 3, \"px\"),\n    textAlign: 'center'\n  };\n};\n\nvar noOptionsMessageCSS = noticeCSS;\nexports.noOptionsMessageCSS = noOptionsMessageCSS;\nvar loadingMessageCSS = noticeCSS;\nexports.loadingMessageCSS = loadingMessageCSS;\n\nvar NoOptionsMessage = function NoOptionsMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n  return _react.default.createElement(\"div\", _extends({\n    className: cx(\n    /*#__PURE__*/\n    (0, _emotion.css)(getStyles('noOptionsMessage', props)), {\n      'menu-notice': true,\n      'menu-notice--no-options': true\n    }, className)\n  }, innerProps), children);\n};\n\nexports.NoOptionsMessage = NoOptionsMessage;\nNoOptionsMessage.defaultProps = {\n  children: 'No options'\n};\n\nvar LoadingMessage = function LoadingMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n  return _react.default.createElement(\"div\", _extends({\n    className: cx(\n    /*#__PURE__*/\n    (0, _emotion.css)(getStyles('loadingMessage', props)), {\n      'menu-notice': true,\n      'menu-notice--loading': true\n    }, className)\n  }, innerProps), children);\n};\n\nexports.LoadingMessage = LoadingMessage;\nLoadingMessage.defaultProps = {\n  children: 'Loading...'\n}; // ==============================\n// Menu Portal\n// ==============================\n\nvar menuPortalCSS = function menuPortalCSS(_ref6) {\n  var rect = _ref6.rect,\n      offset = _ref6.offset,\n      position = _ref6.position;\n  return {\n    left: rect.left,\n    position: position,\n    top: offset,\n    width: rect.width,\n    zIndex: 1\n  };\n};\n\nexports.menuPortalCSS = menuPortalCSS;\n\nvar MenuPortal =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(MenuPortal, _Component2);\n\n  function MenuPortal() {\n    var _getPrototypeOf3;\n\n    var _this2;\n\n    _classCallCheck(this, MenuPortal);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(MenuPortal)).call.apply(_getPrototypeOf3, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this2)), \"state\", {\n      placement: null\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this2)), \"getPortalPlacement\", function (_ref7) {\n      var placement = _ref7.placement;\n      var initialPlacement = coercePlacement(_this2.props.menuPlacement); // avoid re-renders if the placement has not changed\n\n      if (placement !== initialPlacement) {\n        _this2.setState({\n          placement: placement\n        });\n      }\n    });\n\n    return _this2;\n  }\n\n  _createClass(MenuPortal, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        getPortalPlacement: this.getPortalPlacement\n      };\n    } // callback for occassions where the menu must \"flip\"\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          appendTo = _this$props2.appendTo,\n          children = _this$props2.children,\n          controlElement = _this$props2.controlElement,\n          menuPlacement = _this$props2.menuPlacement,\n          position = _this$props2.menuPosition,\n          getStyles = _this$props2.getStyles;\n      var isFixed = position === 'fixed'; // bail early if required elements aren't present\n\n      if (!appendTo && !isFixed || !controlElement) {\n        return null;\n      }\n\n      var placement = this.state.placement || coercePlacement(menuPlacement);\n      var rect = (0, _utils.getBoundingClientObj)(controlElement);\n      var scrollDistance = isFixed ? 0 : window.pageYOffset;\n      var offset = rect[placement] + scrollDistance;\n      var state = {\n        offset: offset,\n        position: position,\n        rect: rect\n      }; // same wrapper element whether fixed or portalled\n\n      var menuWrapper = _react.default.createElement(\"div\", {\n        className:\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        (0, _emotion.css)(getStyles('menuPortal', state))\n      }, children);\n\n      return appendTo ? (0, _reactDom.createPortal)(menuWrapper, appendTo) : menuWrapper;\n    }\n  }]);\n\n  return MenuPortal;\n}(_react.Component);\n\nexports.MenuPortal = MenuPortal;\n\n_defineProperty(MenuPortal, \"childContextTypes\", {\n  getPortalPlacement: _propTypes.default.func\n});"]},"metadata":{},"sourceType":"script"}